<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Recomendaciones Laborales - argentina<strong>tech</strong></title>
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        
        body {
            font-family: sans-serif;
            font-size: 12px;
            line-height: 1.4;
            color: #333;
            margin: 0;
            padding: 0;
        }
        
        .header {
            text-align: center;
            border-bottom: 3px solid #3b82f6;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #3b82f6;
            font-size: 24px;
            margin: 0 0 10px 0;
        }
        
        .header p {
            color: #666;
            font-size: 14px;
            margin: 5px 0;
        }
        
        .section {
            margin-bottom: 30px;
            page-break-inside: avoid;
        }
        
        .section-title {
            background-color: #f3f4f6;
            padding: 10px;
            font-size: 16px;
            font-weight: bold;
            color: #374151;
            border-left: 4px solid #3b82f6;
            margin-bottom: 15px;
        }
        
        .info-grid {
            display: table;
            width: 100%;
            border-collapse: collapse;
        }
        
        .info-row {
            display: table-row;
        }
        
        .info-label {
            display: table-cell;
            width: 30%;
            font-weight: bold;
            padding: 8px;
            background-color: #f9fafb;
            border: 1px solid #e5e7eb;
        }
        
        .info-value {
            display: table-cell;
            width: 70%;
            padding: 8px;
            border: 1px solid #e5e7eb;
        }
        
        .summary-card {
            background-color: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        .summary-value {
            font-size: 32px;
            font-weight: bold;
            color: #3b82f6;
            margin: 10px 0;
        }
        
        .summary-label {
            font-size: 14px;
            color: #64748b;
            margin-bottom: 10px;
        }
        
        .recommendation-card {
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            margin: 20px 0;
            page-break-inside: avoid;
        }
        
        .recommendation-header {
            background-color: #3b82f6;
            color: white;
            padding: 15px;
            border-radius: 8px 8px 0 0;
        }
        
        .recommendation-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .recommendation-meta {
            font-size: 12px;
            opacity: 0.9;
        }
        
        .recommendation-content {
            padding: 15px;
        }
        
        .recommendation-section {
            margin-bottom: 15px;
        }
        
        .recommendation-section h4 {
            font-size: 14px;
            font-weight: bold;
            color: #374151;
            margin-bottom: 5px;
        }
        
        .recommendation-section p {
            font-size: 12px;
            color: #6b7280;
            margin: 0;
        }
        
        .compatibility-bar {
            background-color: #e5e7eb;
            height: 8px;
            border-radius: 4px;
            margin: 5px 0;
            overflow: hidden;
        }
        
        .compatibility-fill {
            height: 100%;
            background-color: #3b82f6;
        }
        
        .skills-comparison {
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .skills-comparison h4 {
            color: #374151;
            font-size: 14px;
            margin-bottom: 10px;
            border-bottom: 1px solid #e5e7eb;
            padding-bottom: 5px;
        }
        
        .skill-item {
            margin: 8px 0;
        }
        
        .skill-label {
            display: flex;
            justify-content: space-between;
            font-size: 11px;
            margin-bottom: 2px;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e5e7eb;
            text-align: center;
            font-size: 10px;
            color: #6b7280;
        }
        
        .page-break {
            page-break-before: always;
        }
        
        .no-recommendations {
            text-align: center;
            padding: 40px;
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
        }
        
        .no-recommendations p {
            font-size: 16px;
            color: #6b7280;
            margin: 0;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <h1>Recomendaciones de Roles Profesionales</h1>
        <p>Sistema de Evaluación de argentina<strong>tech</strong></p>
        <p>Generado el: <span th:text="${fechaGeneracion}">01/01/2024 12:00</span></p>
    </div>

    <!-- Información del Candidato (si está disponible) -->
    <div th:if="${resultado != null}" class="section">
        <div class="section-title">Información del Candidato</div>
        <div class="info-grid">
            <div class="info-row">
                <div class="info-label">Nombre Completo:</div>
                <div class="info-value" th:text="${resultado.nombre} + ' ' + ${resultado.apellido}">Juan Pérez</div>
            </div>
            <div class="info-row">
                <div class="info-label">Email:</div>
                <div class="info-value" th:text="${resultado.email}">juan@ejemplo.com</div>
            </div>
            <div class="info-row">
                <div class="info-label">Puntuación Promedio:</div>
                <div class="info-value" th:text="${#numbers.formatDecimal(resultado.promedio, 1, 1)} + '%'">85.0%</div>
            </div>
        </div>
    </div>

    <!-- Resumen de Recomendaciones -->
    <div th:if="${estadisticas != null}" class="section">
        <div class="section-title">Resumen de Recomendaciones</div>
        <div class="summary-card">
            <div class="summary-label">Total de Roles Recomendados</div>
            <div class="summary-value" th:text="${estadisticas.totalRecomendaciones}">5</div>
            <div style="margin-top: 15px;">
                <span style="font-size: 14px; color: #64748b;">Mejor compatibilidad: </span>
                <span style="font-size: 16px; font-weight: bold; color: #3b82f6;" 
                      th:text="${#numbers.formatDecimal(estadisticas.mejorCompatibilidad, 1, 1)} + '%'">92.5%</span>
            </div>
        </div>
    </div>

    <!-- Recomendaciones Laborales -->
    <div class="section page-break">
        <div class="section-title">Roles Profesionales Recomendados</div>
        
        <div th:if="${recomendaciones != null and !recomendaciones.empty}">
            <p style="margin-bottom: 20px; font-size: 14px; color: #6b7280;">
                Basado en tu perfil y resultados del examen, te recomendamos los siguientes roles profesionales:
            </p>
            
            <div th:each="recomendacion, iterStat : ${recomendaciones}" class="recommendation-card">
                <div class="recommendation-header">
                    <div class="recommendation-title" th:text="${recomendacion.titulo}">Desarrollador Full Stack</div>
                    <div class="recommendation-meta">
                        <span th:text="${recomendacion.categoria}">Desarrollo</span> • 
                        <span th:text="${recomendacion.nivel}">Junior</span> • 
                        Compatibilidad: <span th:text="${#numbers.formatDecimal(recomendacion.compatibilidad, 1, 1)} + '%'">85.5%</span>
                    </div>
                </div>
                
                <div class="recommendation-content">
                    <div class="recommendation-section">
                        <h4>Descripción del Rol</h4>
                        <p th:text="${recomendacion.descripcion}">Descripción del rol...</p>
                    </div>
                    
                    <div class="recommendation-section">
                        <h4>Responsabilidades Principales</h4>
                        <p th:text="${recomendacion.responsabilidades}">Responsabilidades del rol...</p>
                    </div>
                    
                    <div class="recommendation-section">
                        <h4>Habilidades Requeridas</h4>
                        <p th:text="${recomendacion.habilidadesRequeridas}">Habilidades necesarias...</p>
                    </div>
                    
                    <div class="recommendation-section">
                        <h4>Tecnologías Recomendadas</h4>
                        <p th:text="${recomendacion.tecnologiasRecomendadas}">Tecnologías sugeridas...</p>
                    </div>
                    
                    <div class="recommendation-section">
                        <h4>Ruta de Carrera</h4>
                        <p th:text="${recomendacion.rutaCarrera}">Progresión profesional...</p>
                    </div>
                    
                    <!-- Comparación de Habilidades -->
                    <div class="skills-comparison">
                        <h4>Análisis de Compatibilidad</h4>
                        
                        <div class="skill-item">
                            <div class="skill-label">
                                <span>Lógica: <span th:text="${recomendacion.logica} + '%'">85%</span></span>
                                <span>Requerido: <span th:text="${recomendacion.minLogica} + '%'">70%</span></span>
                            </div>
                            <div class="compatibility-bar">
                                <div class="compatibility-fill" th:style="'width: ' + ${recomendacion.logica} + '%'"></div>
                            </div>
                        </div>
                        
                        <div class="skill-item">
                            <div class="skill-label">
                                <span>Matemática: <span th:text="${recomendacion.matematica} + '%'">78%</span></span>
                                <span>Requerido: <span th:text="${recomendacion.minMatematica} + '%'">60%</span></span>
                            </div>
                            <div class="compatibility-bar">
                                <div class="compatibility-fill" th:style="'width: ' + ${recomendacion.matematica} + '%'"></div>
                            </div>
                        </div>
                        
                        <div class="skill-item">
                            <div class="skill-label">
                                <span>Creatividad: <span th:text="${recomendacion.creatividad} + '%'">92%</span></span>
                                <span>Requerido: <span th:text="${recomendacion.minCreatividad} + '%'">50%</span></span>
                            </div>
                            <div class="compatibility-bar">
                                <div class="compatibility-fill" th:style="'width: ' + ${recomendacion.creatividad} + '%'"></div>
                            </div>
                        </div>
                        
                        <div class="skill-item">
                            <div class="skill-label">
                                <span>Programación: <span th:text="${recomendacion.programacion} + '%'">88%</span></span>
                                <span>Requerido: <span th:text="${recomendacion.minProgramacion} + '%'">75%</span></span>
                            </div>
                            <div class="compatibility-bar">
                                <div class="compatibility-fill" th:style="'width: ' + ${recomendacion.programacion} + '%'"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div th:if="${recomendaciones == null or recomendaciones.empty}" class="no-recommendations">
            <p>No se encontraron recomendaciones laborales para tu perfil actual.</p>
            <p style="margin-top: 10px; font-size: 12px;">
                Te sugerimos mejorar tus habilidades en las áreas evaluadas para obtener mejores recomendaciones.
            </p>
        </div>
    </div>

    <!-- Información Adicional -->
    <div class="section">
        <div class="section-title">Información Adicional</div>
        <div style="background-color: #f0f9ff; border: 1px solid #0ea5e9; border-radius: 8px; padding: 15px;">
            <h4 style="color: #0c4a6e; margin-bottom: 10px;">Próximos Pasos</h4>
            <ul style="color: #0369a1; font-size: 12px; margin: 0; padding-left: 20px;">
                <li>Revisa los roles recomendados y sus requisitos</li>
                <li>Identifica las áreas donde puedes mejorar</li>
                <li>Considera tomar cursos o certificaciones relacionadas</li>
                <li>Actualiza tu CV con las habilidades relevantes</li>
                <li>Busca oportunidades laborales en las áreas recomendadas</li>
            </ul>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <p>Documento generado automáticamente por el Sistema de Evaluación de argentina<strong>tech</strong></p>
        <p>Este documento contiene recomendaciones personalizadas basadas en tu perfil</p>
        <p>Para obtener más información o actualizar tu perfil, visita nuestro sistema en línea</p>
    </div>
</body>
</html> 