<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Resultado del Examen - Piso Cinco</title>
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        
        body {
            font-family: Arial, sans-serif;
            font-size: 12px;
            line-height: 1.4;
            color: #333;
            margin: 0;
            padding: 0;
        }
        
        .header {
            text-align: center;
            border-bottom: 3px solid #3b82f6;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #3b82f6;
            font-size: 24px;
            margin: 0 0 10px 0;
        }
        
        .header p {
            color: #666;
            font-size: 14px;
            margin: 5px 0;
        }
        
        .section {
            margin-bottom: 30px;
            page-break-inside: avoid;
        }
        
        .section-title {
            background-color: #f3f4f6;
            padding: 10px;
            font-size: 16px;
            font-weight: bold;
            color: #374151;
            border-left: 4px solid #3b82f6;
            margin-bottom: 15px;
        }
        
        .info-grid {
            display: table;
            width: 100%;
            border-collapse: collapse;
        }
        
        .info-row {
            display: table-row;
        }
        
        .info-label {
            display: table-cell;
            width: 30%;
            font-weight: bold;
            padding: 8px;
            background-color: #f9fafb;
            border: 1px solid #e5e7eb;
        }
        
        .info-value {
            display: table-cell;
            width: 70%;
            padding: 8px;
            border: 1px solid #e5e7eb;
        }
        
        .score-card {
            background-color: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        .score-value {
            font-size: 48px;
            font-weight: bold;
            color: #3b82f6;
            margin: 15px 0;
        }
        
        .score-label {
            font-size: 16px;
            color: #64748b;
            margin-bottom: 15px;
        }
        
        .status-badge {
            display: inline-block;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: bold;
            font-size: 16px;
            margin-top: 15px;
        }
        
        .status-approved {
            background-color: #dcfce7;
            color: #166534;
        }
        
        .status-failed {
            background-color: #fef2f2;
            color: #dc2626;
        }
        
        .areas-grid {
            display: table;
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .area-row {
            display: table-row;
        }
        
        .area-name {
            display: table-cell;
            width: 25%;
            padding: 15px;
            background-color: #f1f5f9;
            border: 1px solid #e2e8f0;
            font-weight: bold;
            text-align: center;
            font-size: 14px;
        }
        
        .area-score {
            display: table-cell;
            width: 25%;
            padding: 15px;
            border: 1px solid #e2e8f0;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
        }
        
        .area-description {
            display: table-cell;
            width: 50%;
            padding: 15px;
            border: 1px solid #e2e8f0;
            font-size: 12px;
            color: #6b7280;
            vertical-align: middle;
        }
        
        .exam-info {
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .exam-info h3 {
            color: #374151;
            font-size: 16px;
            margin-bottom: 15px;
            border-bottom: 1px solid #e5e7eb;
            padding-bottom: 8px;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e5e7eb;
            text-align: center;
            font-size: 10px;
            color: #6b7280;
        }
        
        .comments-section {
            background-color: #fef3c7;
            border: 1px solid #f59e0b;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
        }
        
        .comments-section h4 {
            color: #92400e;
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        .comments-section p {
            color: #78350f;
            font-size: 12px;
            margin: 0;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <h1>Resultado del Examen - Piso Cinco</h1>
        <p>Sistema de Evaluación de Conocimientos</p>
        <p>Generado el: <span th:text="${fechaGeneracion}">01/01/2024 12:00</span></p>
    </div>

    <!-- Información del Candidato -->
    <div class="section">
        <div class="section-title">Información del Candidato</div>
        <div class="info-grid">
            <div class="info-row">
                <div class="info-label">Nombre Completo:</div>
                <div class="info-value" th:text="${resultado.nombre} + ' ' + ${resultado.apellido}">Juan Pérez</div>
            </div>
            <div class="info-row">
                <div class="info-label">Email:</div>
                <div class="info-value" th:text="${resultado.email}">juan@ejemplo.com</div>
            </div>
            <div class="info-row">
                <div class="info-label">Teléfono:</div>
                <div class="info-value" th:text="${resultado.telefono}">+54 11 1234-5678</div>
            </div>
            <div class="info-row">
                <div class="info-label">CUIL:</div>
                <div class="info-value" th:text="${resultado.cuil}">20-12345678-9</div>
            </div>
            <div class="info-row">
                <div class="info-label">Fecha de Nacimiento:</div>
                <div class="info-value" th:text="${resultado.fechaNacimiento}">01/01/1990</div>
            </div>
            <div class="info-row">
                <div class="info-label">Dirección:</div>
                <div class="info-value" th:text="${resultado.direccion}">Av. Corrientes 1234</div>
            </div>
            <div class="info-row">
                <div class="info-label">Ubicación:</div>
                <div class="info-value" th:text="${resultado.localidadNombre} + ', ' + ${resultado.provinciaNombre}">Buenos Aires, Buenos Aires</div>
            </div>
            <div class="info-row">
                <div class="info-label">Conocimientos de Programación:</div>
                <div class="info-value" th:text="${resultado.conocimientosProgramacion}">Básico</div>
            </div>
        </div>
    </div>

    <!-- Resultado del Examen -->
    <div class="section">
        <div class="section-title">Resultado del Examen</div>
        
        <!-- Puntuación Promedio -->
        <div class="score-card">
            <div class="score-label">Puntuación Promedio</div>
            <div class="score-value" th:text="${#numbers.formatDecimal(resultado.promedio, 1, 1)}">85.0</div>
            <div th:class="${resultado.aprobado ? 'status-badge status-approved' : 'status-badge status-failed'}"
                 th:text="${resultado.aprobado ? 'APROBADO' : 'REPROBADO'}">APROBADO</div>
        </div>
        
        <!-- Detalle por Áreas -->
        <div class="areas-grid">
            <div class="area-row">
                <div class="area-name">Lógica</div>
                <div class="area-score" th:text="${resultado.logica} + '%'">85%</div>
                <div class="area-description">Razonamiento lógico y resolución de problemas complejos</div>
            </div>
            <div class="area-row">
                <div class="area-name">Matemática</div>
                <div class="area-score" th:text="${resultado.matematica} + '%'">78%</div>
                <div class="area-description">Análisis matemático y estadístico</div>
            </div>
            <div class="area-row">
                <div class="area-name">Creatividad</div>
                <div class="area-score" th:text="${resultado.creatividad} + '%'">92%</div>
                <div class="area-description">Pensamiento creativo e innovación</div>
            </div>
            <div class="area-row">
                <div class="area-name">Programación</div>
                <div class="area-score" th:text="${resultado.programacion} + '%'">88%</div>
                <div class="area-description">Desarrollo de software y código</div>
            </div>
        </div>
        
        <!-- Información del Examen -->
        <div class="exam-info">
            <h3>Detalles del Examen</h3>
            <div class="info-grid">
                <div class="info-row">
                    <div class="info-label">Fecha de Examen:</div>
                    <div class="info-value" th:text="${#temporals.format(resultado.fechaFin, 'dd/MM/yyyy HH:mm')}">01/01/2024 12:00</div>
                </div>
                <div class="info-row">
                    <div class="info-label">Tiempo Total:</div>
                    <div class="info-value" th:text="${resultado.tiempoTotalMinutos} + ' minutos'">45 minutos</div>
                </div>
                <div class="info-row">
                    <div class="info-label">Preguntas Respondidas:</div>
                    <div class="info-value" th:text="${resultado.respuestasCorrectas} + ' de ' + ${resultado.totalPreguntas}">18 de 20</div>
                </div>
                <div class="info-row">
                    <div class="info-label">Porcentaje de Acierto:</div>
                    <div class="info-value" th:text="${#numbers.formatDecimal((resultado.respuestasCorrectas * 100.0 / resultado.totalPreguntas), 1, 1)} + '%'">90.0%</div>
                </div>
            </div>
        </div>
        
        <!-- Comentarios Adicionales -->
        <div th:if="${resultado.comentarios != null and !#strings.isEmpty(resultado.comentarios)}" class="comments-section">
            <h4>Comentarios Adicionales</h4>
            <p th:text="${resultado.comentarios}">Comentarios del evaluador...</p>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <p>Documento generado automáticamente por el Sistema de Evaluación de Piso Cinco</p>
        <p>Este documento contiene información confidencial y es de uso exclusivo del candidato</p>
        <p>Para obtener recomendaciones laborales personalizadas, visita nuestro sistema en línea</p>
    </div>
</body>
</html> 